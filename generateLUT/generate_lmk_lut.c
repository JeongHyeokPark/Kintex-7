{
  FILE *fp;
  int i;
  int j;
  int k;
  int lut[32][32];
  int lsb[32];
  int msb[32];
  int value[32];
  int rom[32][8];

  lsb[0] =  0b0000000100000000;
  lsb[1] =  0b0000000100000000;
  lsb[2] =  0b0000000100000001;
  lsb[3] =  0b0000000100000010;
  lsb[4] =  0b0000000100000011;
  lsb[5] =  0b0000000100000100;
  lsb[6] =  0b0000000100000101;
  lsb[7] =  0b0000000100000110;
  lsb[8] =  0b0000000100000111;
  lsb[9] =  0b0010101000001001;
  lsb[10] = 0b1000000000001011;
  lsb[11] = 0b0000000100001110;
  lsb[12] = 0b0000010000001111;
  lsb[13] = 0b0000000100000000;
  lsb[14] = 0b0000000100000000;
  lsb[15] = 0b0000000100000001;
  lsb[16] = 0b0000000100000010;
  lsb[17] = 0b0000000100000011;
  lsb[18] = 0b0000000100000100;
  lsb[19] = 0b0000000100000101;
  lsb[20] = 0b0000000100000110;
  lsb[21] = 0b0000011100000111;
  lsb[22] = 0b0010101000001001;
  lsb[23] = 0b1000000000001011;
  lsb[24] = 0b0000000100001110;
  lsb[25] = 0b0001010000001111;
  lsb[26] = 0b0000000000000000;
  lsb[27] = 0b0000000000000000;
  lsb[28] = 0b0000000000000000;
  lsb[29] = 0b0000000000000000;
  lsb[30] = 0b0000000000000000;
  lsb[31] = 0b0000000000000000;

  msb[0] =  0b1000000000000001;
  msb[1] =  0b0000000000000001;
  msb[2] =  0b0000000000000001;
  msb[3] =  0b0000000000000001;
  msb[4] =  0b0000000000000001;
  msb[5] =  0b0000000000000001;
  msb[6] =  0b0000000000000001;
  msb[7] =  0b0000000000000001;
  msb[8] =  0b0000000000000001;
  msb[9] =  0b1010000000000010;
  msb[10] = 0b0000000010000010;
  msb[11] = 0b0010100100110000;
  msb[12] = 0b0100000000000000;
  msb[13] = 0b1000000000000011;
  msb[14] = 0b0000000000000011;
  msb[15] = 0b0000000000000011;
  msb[16] = 0b0000000000000011;
  msb[17] = 0b0000000000000011;
  msb[18] = 0b0000000000000011;
  msb[19] = 0b0000000000000011;
  msb[20] = 0b0000000000000011;
  msb[21] = 0b0000000000000011;
  msb[22] = 0b1010000000000010;
  msb[23] = 0b0000000010000010;
  msb[24] = 0b0010100100110000;
  msb[25] = 0b0100000000000000;
  msb[26] = 0b0000000000000000;
  msb[27] = 0b0000000000000000;
  msb[28] = 0b0000000000000000;
  msb[29] = 0b0000000000000000;
  msb[30] = 0b0000000000000000;
  msb[31] = 0b0000000000000000;

  for (i = 0; i < 32; i++) 
    value[i] = lsb[i] + 65536 * msb[i];

  for (i = 0; i < 32; i++) {
    for (j = 0; j < 32; j++) {
      lut[i][j] = (value[i] >> j) & 0x1;
    }
  }

    for (j = 0; j < 32; j++) {
      printf("lut[11][%d] = %d, value = %X\n", j, lut[11][j], value[11] >> j);
    }


  for (i = 0; i < 32; i++) {
    for (j = 0; j < 8; j++) {
      rom[i][j] = 0;
      for (k = 0; k < 4; k++) {
        rom[i][j] = rom[i][j] + (lut[j * 4 + k][i] << k);
      }
    }
  }

  fp = fopen("lmk_lut.txt", "wt");
 
  for (i = 0; i < 32; i++) {
    fprintf(fp, "   rom32x1_micro_wire_rom_%d : ROM32X1\n", i);
    fprintf(fp, "   generic map (INIT => X\"");
    fprintf(fp, "%X", rom[i][7]);
    fprintf(fp, "%X", rom[i][6]);
    fprintf(fp, "%X", rom[i][5]);
    fprintf(fp, "%X", rom[i][4]);
    fprintf(fp, "%X", rom[i][3]);
    fprintf(fp, "%X", rom[i][2]);
    fprintf(fp, "%X", rom[i][1]);
    fprintf(fp, "%X", rom[i][0]);
    fprintf(fp, "\")\n");
    fprintf(fp, "   port map (\n");
    fprintf(fp, "      A0 => a(0),\n");
    fprintf(fp, "      A1 => a(1),\n");
    fprintf(fp, "      A2 => a(2),\n");
    fprintf(fp, "      A3 => a(3),\n");
    fprintf(fp, "      A4 => a(4),\n");
    fprintf(fp, "      O => spo(%d)\n", i);
    fprintf(fp, "   )\;\n");
    fprintf(fp, "\n");
  }

  fclose(fp);
}
